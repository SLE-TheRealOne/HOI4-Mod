scripted_gui = {
    refresh_button = {
        window_name = refresh_button_container
        context_type = player_context

        visible = {
            always = yes
        }

        effects = {
            refresh_button_click = {

                country_event = {
                    id = custom_counters.1
                }

                country_event = {
                    id = custom_counters.2
                }

                country_event = {
                    id = manpower.1
                }

                if = {
                    limit = {
                        has_tech = advanced_encryption
                    }
                    set_variable = { encrypt_level = 3 }
                    set_variable = { tooltip-advanced_encryption = 1 }
                    set_variable = { tooltip-improved_encryption = 1 }
                    set_variable = { tooltip-basic_encryption = 1 }
                } else_if = {
                    limit = {
                        has_tech = improved_encryption
                    }
                    set_variable = { encrypt_level = 2 }
                    set_variable = { tooltip-improved_encryption = 1 }
                    set_variable = { tooltip-basic_encryption = 1 }
                } else_if = {
                    limit = {
                        has_tech = basic_encryption
                    }
                    set_variable = { encrypt_level = 1 }
                    set_variable = { tooltip-basic_encryption = 1 }
                }

                if = {
                    limit = {
                        has_tech = advanced_decryption
                    }
                    set_variable = { decrypt_level = 3 }
                    set_variable = { tooltip-advanced_decryption = 1 }
                    set_variable = { tooltip-improved_decryption = 1 }
                    set_variable = { tooltip-basic_decryption = 1 }
                } else_if = {
                    limit = {
                        has_tech = improved_decryption
                    }
                    set_variable = { decrypt_level = 2 }
                    set_variable = { tooltip-improved_decryption = 1 }
                    set_variable = { tooltip-basic_decryption = 1 }
                } else_if = {
                    limit = {
                        has_tech = basic_decryption
                    }
                    set_variable = { decrypt_level = 1 }
                    set_variable = { tooltip-basic_decryption = 1 }
                }

                if = {
                    limit = {
                        has_tech = tech-army-decryption_01
                    }
                    multiply_variable = {
                        var = decrypt_level
                        value = 1.13
                    }
                    set_variable = { tooltip-tech-army-decryption_01 = 13 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-decryption_02
                    }
                    multiply_variable = {
                        var = decrypt_level
                        value = 1.11
                    }
                    set_variable = { tooltip-tech-army-decryption_02 = 11 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-decryption_03
                    }
                    multiply_variable = {
                        var = decrypt_level
                        value = 1.11
                    }
                    set_variable = { tooltip-tech-army-decryption_03 = 11 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-decryption_04
                    }
                    multiply_variable = {
                        var = decrypt_level
                        value = 1.11
                    }
                    set_variable = { tooltip-tech-army-decryption_04 = 11 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-decryption_05
                    }
                    multiply_variable = {
                        var = decrypt_level
                        value = 1.12
                    }
                    set_variable = { tooltip-tech-army-decryption_05 = 12 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-decryption_06
                    }
                    multiply_variable = {
                        var = decrypt_level
                        value = 1.16
                    }
                    set_variable = { tooltip-tech-army-decryption_06 = 16 }
                }

                if = {
                    limit = {
                        has_tech = tech-army-encryption_01
                    }
                    multiply_variable = {
                        var = encrypt_level
                        value = 1.13
                    }
                    set_variable = { tooltip-tech-army-encryption_01 = 13 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-encryption_02
                    }
                    multiply_variable = {
                        var = encrypt_level
                        value = 1.11
                    }
                    set_variable = { tooltip-tech-army-encryption_02 = 11 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-encryption_03
                    }
                    multiply_variable = {
                        var = encrypt_level
                        value = 1.11
                    }
                    set_variable = { tooltip-tech-army-encryption_03 = 11 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-encryption_04
                    }
                    multiply_variable = {
                        var = encrypt_level
                        value = 1.11
                    }
                    set_variable = { tooltip-tech-army-encryption_04 = 11 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-encryption_05
                    }
                    multiply_variable = {
                        var = encrypt_level
                        value = 1.12
                    }
                    set_variable = { tooltip-tech-army-encryption_05 = 12 }
                }
                if = {
                    limit = {
                        has_tech = tech-army-encryption_06
                    }
                    multiply_variable = {
                        var = encrypt_level
                        value = 1.16
                    }
                    set_variable = { tooltip-tech-army-encryption_06 = 16 }
                }
            }
        }
    }
}